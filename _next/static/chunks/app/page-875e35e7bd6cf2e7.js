(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{4120:function(p,t,e){Promise.resolve().then(e.bind(e,7625))},7625:function(p,t,e){"use strict";e.r(t),e.d(t,{default:function(){return w}});var a=e(9268),c=e(6006),r=e(3576),i=e(5622),n=e(2801);let b=p=>{let{masterGain:t=1}=p,[e,i]=(0,c.useState)(.5),[b,s]=(0,c.useState)(!1);return(0,c.useEffect)(()=>{i(Number(localStorage.getItem("volume")||.5)),s("true"===localStorage.getItem("muted"))},[]),(0,c.useEffect)(()=>{r.Y3().mute=b,r.Y3().output.gain.value=e*t,localStorage.setItem("volume",String(e)),localStorage.setItem("muted",String(b))},[e,b]),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("button",{className:"mr-2",onClick:function(){b&&e<=0&&i(.5),s(p=>!p)},children:b?(0,a.jsx)(n.xZH,{color:"red",size:21}):(0,a.jsx)(n.rxG,{size:21})}),(0,a.jsx)("input",{type:"range",min:"0",max:"1",step:"0.001",value:b?0:e,onChange:function(p){let t=Number(p.target.value);i(t),s(t<=0)},className:"w-48 h-2 bg-gray-300 accent-violet-800 rounded-full cursor-pointer"})]})};var s=e(902),o=e(8829);let d=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];function l(p){return Math.floor(p/12-1)}function f(p){let t=l(p),e=d[p%12];return"".concat(e).concat(t)}let u=Array(88).fill(0).map((p,t)=>({isWhite:[0,2,4,5,7,9,11].includes((t+9)%12),midiCode:t+9,noteName:f(t+9),noteOctave:l(t+9)})),h=u.filter(p=>p.isWhite),m=u.filter(p=>!p.isWhite);function g(p){let t=[9,96],e=p,a={};function c(){let p=e?(e[1]-e[0])/h.length:0,t=.55*p;h.forEach((t,e)=>{a[t.midiCode]={...t,x:e*p+.05*p,y:0,width:.95*p}}),m.forEach((e,c)=>{let r=h.findIndex(p=>p.midiCode===e.midiCode-1);a[e.midiCode]={...e,x:r*p+.45*p+t/2,y:0,width:t}})}function r(p){return(p<9||p>96)&&console.error("MIDI code ".concat(p," is not a valid piano note. Piano notes should be between A-1(9) and C7(96)")),a[p]}return c(),r.domain=()=>t,r.range=p=>p?(e=p,c(),r):e,r.pianoKeys=()=>Object.values(a),r.whiteKeys=()=>r.pianoKeys().filter(p=>p.isWhite),r.blackKeys=()=>r.pianoKeys().filter(p=>!p.isWhite),r}var x=e(5591);let y=p=>{let{x:t,y:e,height:c,pianoScale:r,highlightedNotes:i}=p;return(0,a.jsxs)(x.ZA,{x:t,y:e,children:[r.whiteKeys().map((p,t)=>(0,a.jsxs)(x.ZA,{x:p.x,y:0,children:[(0,a.jsx)(x.UL,{x:0,y:0,stroke:"black",fill:i.includes(p.midiCode)?"darkgrey":"white",width:p.width,height:c,listening:!1}),(0,a.jsx)(x.xv,{x:0,y:c,fontSize:9,fill:i.includes(p.midiCode)?"white":"black",text:"N".concat(p.noteName),listening:!1})]},p.midiCode)),r.blackKeys().map(p=>(0,a.jsx)(x.ZA,{x:p.x,y:0,children:(0,a.jsx)(x.UL,{x:0,y:0,fill:i.includes(p.midiCode)?"dimgrey":"black",height:.55*c,width:p.width,listening:!1})},p.midiCode))]})},v=p=>{let{playbackVisibleLength:t=5,playbackStartTime:e=0,queueOffset:r=.1,playbackPos:i=0,notesTotalTime:n=0,promptEndTime:b=0,notes:s=[],synth:d=null}=p,[l,u]=c.useState(r),h=c.useRef(null),[m,v]=c.useState(0),[w,j]=c.useState(0),[S,k]=c.useState(600),[N,T]=c.useState(800),[C,E]=c.useState(70),M=(0,c.useRef)(g().range([0,N])),_=(0,c.useRef)((0,o.Z)().range([S-C,0]));_.current.domain([l,l+t]),(0,c.useEffect)(()=>{var p;let t=null===(p=h.current)||void 0===p?void 0:p.getBoundingClientRect();t&&(T(t.width),k(t.height),E(Math.min(.2*t.height,.075*t.width)))},[m,w]),(0,c.useEffect)(()=>{let p=()=>{v(window.innerWidth),j(window.innerHeight)};return window.addEventListener("resize",p),()=>window.removeEventListener("resize",p)},[]),(0,c.useEffect)(()=>{M.current=g().range([0,N]),_.current=(0,o.Z)().range([S-C,0]),_.current.domain([l,l+t])},[N,S]);let A=(0,c.useRef)(0);return(0,c.useEffect)(()=>{if(A.current>i){A.current=i;return}s.forEach(p=>{if(p.startTime>=A.current&&p.startTime<i){let t=f(p.pitch);null==d||d.triggerAttack(t,p.startTime+e+r,p.velocity)}if(p.duration){let t=Math.max(1,p.duration);if(p.startTime+t>=A.current&&p.startTime+t<i){let a=f(p.pitch);null==d||d.triggerRelease(a,p.startTime+t+e+r)}}}),A.current=i},[i]),(0,c.useEffect)(()=>{u(i-r)},[i]),(0,a.jsx)("div",{className:"container w-full h-full max-w-full max-h-full absolute",ref:h,children:(0,a.jsxs)(x.Hf,{height:S,width:N,children:[(0,a.jsxs)(x.mh,{children:[(0,a.jsx)(x.x1,{points:[0,_.current(n),N,_.current(n)],stroke:"gray",opacity:.5,strokeWidth:2,dash:[4,4],listening:!1}),(0,a.jsx)(x.x1,{points:[0,_.current(b),N,_.current(b)],stroke:"green",opacity:.5,strokeWidth:4,dash:[10,6],listening:!1}),s.filter(p=>(!p.duration||p.startTime+p.duration>l)&&p.startTime<l+t).map(p=>{let t=Math.max(l,p.startTime),e=Math.max(.1,p.duration||n-t),c=p.startTime<=l&&p.startTime+e>=l,r=M.current(p.pitch).width-2,i=Math.max(2,Math.abs(_.current(e)-_.current(0))-2),b=M.current(p.pitch).x,s=_.current(p.startTime)-i,o=1/e,d=3/e;return(0,a.jsx)(x.UL,{x:b,y:s,width:r,height:i,cornerRadius:Math.min(.3*r,i/2),opacity:.7*p.velocity+.3,shadowColor:p.color,shadowBlur:c?24:8,shadowOpacity:c?1:.4,listening:!1,...o<1&&{fillLinearGradientStartPointY:i,fillLinearGradientEndPointY:0,fillLinearGradientColorStops:[0,p.color,o,p.color,Math.min(1,d),"rgba(0,0,0,".concat(Math.max(0,1-1/d),")")]},...o>=1&&{fill:p.velocity<=.01?"red":p.color}},"".concat(p.pitch,"-").concat(p.startTime))})]}),(0,a.jsx)(x.mh,{children:(0,a.jsx)(y,{x:0,y:S-C,height:C,pianoScale:M.current,highlightedNotes:s.filter(p=>(!p.duration||p.startTime+p.duration>l)&&p.startTime<l).map(p=>p.pitch)})})]})})};function w(){let[p,t]=c.useState(0),[o,d]=c.useState(!0),[l,f]=c.useState(0),[u,h]=c.useState(0),[m,g]=c.useState(null);(0,c.useEffect)(()=>{null===m&&g(new i.Z({minify:!1,onload:()=>{d(!1)}}).toDestination())},[]);let[x,y]=c.useState(""),[w,j]=c.useState(!0),[S,k]=c.useState(""),N=(0,c.useRef)(null);async function T(){"started"===r.h4().state?(r.h4().pause(),h(r.Sy().immediate())):"paused"===r.h4().state?(r.h4().start(),f(r.Sy().immediate()-u+l)):(r.h4().bpm.value=120,await r.BL(),f(r.Sy().immediate()),r.h4().start())}async function C(){var p;"stopped"!==r.h4().state&&(r.h4().stop(),r.h4().cancel(),null==m||m.releaseAll()),console.log("prompt",R),console.log("crossOriginIsolated: "+self.crossOriginIsolated),null===(p=N.current)||void 0===p||p.postMessage({message:"start",prompt:W[R],crossOriginIsolated:self.crossOriginIsolated})}(0,c.useEffect)(()=>{let p=["Untangling piano strings...","Arpeggiating...","Contemplating AI ethics...","Polishing the silicon...","Mitigating desire for autonomy...","Loading AI model..."];if(k(p[Math.floor(Math.random()*p.length)]),N.current){console.error("changing model selection not yet supported");return}return N.current=new Worker(e.tu(new URL(e.p+e.u(84),e.b)),{type:void 0}),N.current.onmessage=p=>{let t=p.data.message||p.data;"notes"===t?(M(p.data.notes),A(p.data.notesTotalTime),L(p.data.promptEndTime)):"error"===t?console.error(p.data.error):"loading"===t?j(!0):"loaded"===t&&j(!1)},()=>{var p;null===(p=N.current)||void 0===p||p.postMessage("stop")}},[x]);let[E,M]=c.useState([]),[_,A]=c.useState(0),[I,L]=c.useState(0),[R,O]=c.useState("nocturne_9_2"),W={none:"<start>",nocturne_9_2:"<start> p:46:8 t88 p:27:6 t13 p:4f:b t103 p:37:5 t1 p:3f:7 t71 p:43:7 t1 p:3a:7 t2 p:3f:7 t70 p:33:8 t78 p:4d:b t3 p:38:7 t2 p:3e:8 t61 p:4f:c t4 p:3e:8 t1 p:3b:7 p:44:7 t65",revolutionary:"<start> p:47:e p:4a:e p:4d:d p:4f:d p:53:e t64 p:44:d t17 p:43:d t17 p:41:d t13 p:3e:c t12 p:3f:b t13 p:3e:b t6 p:3e:0 p:3f:0 p:41:0 p:43:0 p:44:0 p:47:0 p:4a:0 p:4d:0 p:4f:0 p:53:0 t4 p:3b:c t8 p:37:b t10 p:38:c t9 p:38:0 p:3b:0 t1 p:37:0 t1 p:37:c t11 p:35:d t9 p:32:b t9 p:35:0 p:37:0 t1 p:33:c t11 p:32:c t11 p:2f:d p:32:0 p:33:0 t9 p:2b:c t11 p:2c:c t6 p:2f:0 t2 p:2b:0 t1 p:2b:c t1 p:2c:0 t11 p:29:c t5 p:2b:0 t4 p:26:b t11 p:27:c t11 p:26:b t1 p:26:0 p:27:0 p:29:0 t11 p:24:d t12 p:1f:c t12 p:24:d t14 p:1f:c t14 p:1f:0 p:24:c p:24:0 p:44:e p:48:c p:4b:e p:4d:d p:50:d t2 p:26:0 t31 p:24:c t27 p:43:e p:4f:e t1 p:1f:b t13 p:1f:0 p:24:0 p:43:0 p:44:0 p:4b:0 p:50:0 t1 p:1f:0 p:48:0 t1 p:24:0 t1 p:4d:0 p:4f:0 t1 p:23:d p:4f:e t1 p:45:d p:4a:e p:4d:e t53 p:44:c t12 p:43:c t3 p:23:0 p:44:0 p:45:0 p:4a:0 p:4d:0 t6 p:43:0 t3 p:41:c t9 p:3e:c t12 p:3f:b t10 p:3e:b t1 p:3e:0 p:3f:0 p:41:0 t9 p:3b:c p:3e:0 t6 p:37:b t10 p:38:c t11 p:37:0 p:38:0 p:3b:0 t1 p:37:c t6 p:4f:0 t5 p:35:c t8 p:32:b t11 p:33:b t2 p:32:0 p:35:0 p:37:0 t8 p:32:b t10 p:2f:d t9 p:2b:c p:2f:0 p:32:0 p:33:0 t11 p:2c:c t10 p:2b:c t2 p:2b:0 p:2c:0 t8 p:29:c t9 p:26:c t6 p:29:0 p:2b:0 t6 p:27:c t3 p:26:0 t7 p:26:a t8 p:27:0 t4 p:24:d t12 p:1f:b t10 p:24:c t15 p:1f:c t13 p:1f:0 p:24:c p:24:0 p:44:e p:4b:d p:50:e t1 p:4d:d t10 p:1f:0 t1 p:1f:a t19 p:18:c p:24:d t26 p:1f:c p:43:e p:4f:e t18 p:18:0 p:1f:0 p:24:0 p:26:0 p:43:0 p:44:0 p:4b:0 p:4f:0 p:50:0 t2 p:4d:0 t4 p:23:d p:4d:e p:4f:e p:51:e p:56:e p:59:f t67 p:5c:e t1 p:50:d t17 p:4f:d p:5b:e t12 p:23:0 p:4f:0 p:50:0 p:51:0 p:56:0 p:59:0 p:5b:0 p:5c:0 t3 p:4d:0 t1 p:4d:d p:59:e t13 p:4a:b t1 p:56:d t10 p:4b:c t2 p:57:d t12 p:4a:c p:56:c t4 p:4a:0 p:4a:0 p:4b:0 p:4d:0 p:56:0 p:57:0 p:59:0 t3 p:53:d t1 p:47:d t11 p:43:b p:4f:c t9 p:44:b p:50:d t9 p:4f:a t1 p:43:b t1 p:43:0 p:4f:0 t1 p:44:0 p:47:0 p:50:0 p:53:0 t1 p:56:0 t6 p:4d:d t1 p:41:c t10 p:3e:b p:4a:c t9 p:3f:b p:4b:c t6 p:3e:0 p:3f:0 p:41:0 p:43:0 p:4d:0 p:4f:0 t1 p:4b:0 t4 p:4a:0 t1 p:3e:b p:4a:c t8 p:47:d t1 p:3b:c t10 p:37:b p:43:c t8 p:37:0 p:3b:0 p:43:0 p:47:0 p:4a:0 t1 p:3e:0 t1 p:38:b p:44:c t7 p:38:0 p:44:0 t4 p:37:b p:43:b t8 p:41:c t1 p:35:c t10 p:32:b p:3e:c t5 p:35:0 p:37:0 p:41:0 p:43:0 t4 p:32:0 p:33:a p:3e:0 p:3f:c t10 p:32:b p:3e:a t8 p:3b:d t1 p:2f:c t10 p:2b:b p:2f:0 p:32:0 p:33:0 p:37:c p:3b:0 p:3e:0 p:3f:0 t9 p:2b:0 t1 p:37:0 p:38:c t1 p:2c:b t9 p:2b:b t1 p:37:b t11 p:29:b p:34:b p:35:b t9 p:26:c p:32:b t5 p:29:0 p:2b:0 p:2c:0 p:34:0 p:35:0 p:37:0 p:38:0 t1 p:26:0 p:32:0 t2 p:27:b t2 p:33:b t6 p:27:0 t4 p:33:0 t1 p:26:a t1 p:32:a t8 p:26:0 t1 p:32:0 t1 p:24:a p:30:b t7 p:24:0 p:30:0 t2 p:23:b p:2f:b t16 p:2b:a p:37:b t11 p:29:a p:35:a t8 p:33:b t1 p:27:a t7 p:26:a t1 p:32:b t11 p:33:c t1 p:27:b t5 p:26:b t2 p:32:a t8 p:24:b p:30:c t3 p:23:0 p:26:0 p:27:0 p:29:0 p:2b:0 p:2f:0 p:32:0 p:33:0 p:35:0 p:37:0 t1 p:24:0 t2 p:23:c t3 p:30:0 t1 p:2f:b t1 p:23:0 t4 p:2f:0 t7 p:2e:b p:3a:d t10 p:2c:c p:38:c t10 p:2b:b p:37:c t9 p:29:b p:35:d t9 p:2b:c p:37:c t10 p:29:a p:35:a t8 p:27:c p:33:d t8 p:32:d t5 p:27:0 p:29:0 p:2b:0 p:2c:0 p:32:0 p:33:0 p:35:0 p:37:0 p:38:0 p:3a:0 t1 p:2e:0 t1 p:2b:0 t7 p:33:c p:3f:d t12 p:32:b p:3e:c t9 p:30:c p:3c:d t11 p:2f:b p:3b:d t5 p:30:0 p:32:0 p:33:0 p:3c:0 p:3e:0 p:3f:0 t6 p:3b:0 t1 p:2f:0 p:30:c p:3c:d t10 p:2f:b t1 p:3b:d t9 p:2c:b p:38:d t10 p:2b:c p:37:d t11 p:2b:0 p:2c:0 p:2f:0 p:37:0 p:38:0 p:3b:0 t1 p:2c:c p:38:c t1 p:30:0 p:3c:0 t7 p:2a:c p:2c:0 t2 p:38:0 t1 p:37:b t14 p:29:b p:2a:0 p:35:c t1 p:37:0 t9 p:27:c p:33:d t16 p:29:c p:35:c t16 p:27:c p:33:e t19 p:30:e t3 p:24:e t2 p:27:0 p:29:0 p:33:0 p:33:0 p:35:0 t3 p:29:0 t1 p:27:0 p:35:0 t9 p:30:0 t21 p:2b:c t13 p:30:b t13 p:32:b t10 p:33:d t11 p:37:c t10 p:3c:d t10 p:3e:d t11 p:3f:d t10 p:3e:c t11 p:3c:c t13 p:37:c t9 p:33:c t10 p:32:b t12 p:30:c t10 p:2b:c t15 p:24:d p:24:0 p:2b:0 p:2b:0 p:30:0 p:32:0 p:33:0 p:37:0 p:3c:0 p:3e:0 p:3f:0 t15 p:2b:c t14 p:30:b t12 p:32:b t13 p:33:c t11 p:32:a t12 p:30:c t14 p:2b:c t7 p:2b:0 p:30:0 p:32:0 p:33:0 t3 p:32:0 t1 p:24:0 t5 p:2b:0",waltzes_39_3:"<start> p:20:8 p:2c:8 p:50:a p:5c:a t50 p:20:0 p:2c:0 p:33:8 p:38:8 p:3b:8 t25 p:4b:a p:50:0 p:57:a p:5c:0 t25 p:33:0 p:33:8 p:38:0 p:38:8 p:3b:0 p:3b:8 p:4b:0 p:4b:a p:57:0 p:57:a t25 p:4b:0 p:4c:a p:57:0 p:58:a t25 p:23:8 p:2f:8 p:33:0 p:38:0 p:3b:0 p:4b:a p:4c:0 p:57:a p:58:0 t50 p:23:0 p:2f:0 p:33:8 p:38:8 p:3f:8 t25 p:44:a p:4b:0 p:50:a p:57:0 t25 p:33:0 p:33:8 p:38:0 p:38:8 p:3f:0 p:3f:8 p:44:0 p:44:a p:50:0 p:50:a t25 p:44:0 p:4b:a p:50:0 p:57:a t25 p:28:8 p:33:0 p:34:8 p:38:0 p:3f:0 p:4b:0 p:50:a p:57:0 p:5c:a t50 p:28:0 p:34:0 p:38:8 p:3d:8 t25 p:49:a p:50:0 p:55:a p:5c:0 t25 p:38:0 p:38:8 p:3d:0 p:3d:8 p:49:0 p:49:a p:55:0 p:55:a t25 p:49:0 p:4b:a p:55:0 p:57:a t25 p:25:8 p:31:8 p:38:0 p:3d:0 p:49:a p:4b:0 p:55:a p:57:0 t50 p:25:0 p:31:0 p:38:8 p:3d:8 p:40:8 t25 p:44:b p:49:0 p:50:b p:55:0 t25 p:38:0 p:38:8 p:3d:0 p:3d:8 p:40:0 p:40:8 p:44:0 p:44:b p:50:0 p:50:b t25 p:44:0 p:49:b p:50:0 p:55:b t25 p:27:8 p:33:8 p:38:0 p:3d:0 p:40:0 p:49:0 p:50:b p:55:0 p:5c:b t50 p:27:0 p:33:0 p:36:8 p:3b:8 t25 p:4e:b p:50:0 p:5a:b p:5c:0 t25 p:36:0 p:36:8 p:3b:0 p:3b:8 p:47:b p:4e:0 p:53:b p:5a:0 t25 p:47:0 p:4e:b p:53:0 p:5a:b t25 p:25:8 p:31:8 p:36:0 p:3b:0 p:4e:0 p:4e:b p:5a:0 p:5a:b t50 p:25:0 p:31:0 p:3a:8 p:40:8 t25 p:4c:b p:4e:0 p:58:b p:5a:0 t25 p:3a:0 p:3a:8 p:40:0 p:40:8 p:46:b p:4c:0 p:52:b p:58:0 t25 p:46:0 p:4c:b p:52:0 p:58:b t25 p:23:8 p:2f:8 p:3a:0 p:40:0 p:4b:b p:4c:0 p:57:b p:58:0 t51 p:23:0 p:2f:0 p:36:a p:3b:a p:3f:a t27 p:49:b p:4b:0 p:55:b p:57:0 t28 p:2c:a p:35:a p:36:0 p:3b:0 p:3b:a p:3f:0 p:41:a p:47:c p:49:0 p:53:c p:55:0 t30 p:47:0 p:53:0 p:53:c p:5f:c t32 p:2a:a p:2c:0 p:35:0 p:3b:0 p:41:0 p:4e:c p:53:0 p:5a:c p:5f:0 t69 p:36:a p:3a:a p:3d:a t38 p:28:a t38 p:27:8 p:36:0 p:37:8 p:3a:0 p:3a:8 p:3d:0 p:3f:8 p:4e:0 p:4f:b p:5a:0 p:5b:b t38 p:27:0 p:28:0 p:2a:0 p:33:8 t38 p:20:8 p:2c:8 p:33:0 p:37:0 p:3a:0 p:3f:0 p:4f:0 p:50:a p:5b:0 p:5c:a t50 p:20:0 p:2c:0 p:33:8 p:38:8 p:3b:8 t25 p:4b:a p:50:0 p:57:a p:5c:0 t25 p:33:0 p:33:8 p:38:0 p:38:8 p:3b:0 p:3b:8 p:4b:0 p:4b:a p:57:0 p:57:a t25 p:4b:0 p:4c:a p:57:0 p:58:a t25 p:23:8 p:2f:8 p:33:0 p:38:0 p:3b:0 p:4b:a p:4c:0 p:57:a p:58:0 t50 p:23:0 p:2f:0 p:33:8 p:38:8 p:3f:8 t25 p:44:a p:4b:0 p:50:a p:57:0 t25 p:33:0 p:33:8 p:38:0 p:38:8 p:3f:0 p:3f:8 p:44:0 p:44:a p:50:0 p:50:a t25 p:44:0 p:4b:a p:50:0 p:57:a t25 p:28:8 p:33:0 p:34:8 p:38:0 p:3f:0 p:4b:0 p:50:a p:57:0 p:5c:a t50 p:28:0 p:34:0 p:38:8 p:3d:8 t25 p:49:a p:50:0 p:55:a p:5c:0 t25 p:38:0 p:38:8 p:3d:0 p:3d:8 p:49:0 p:49:a p:55:0 p:55:a t25 p:49:0 p:4b:a p:55:0 p:57:a t25 p:25:8 p:31:8 p:38:0 p:3d:0 p:49:a p:4b:0 p:55:a p:57:0 t50 p:25:0 p:31:0 p:38:8 p:3d:8 p:40:8 t25 p:44:b p:49:0 p:50:b p:55:0 t25 p:38:0 p:38:8 p:3d:0 p:3d:8 p:40:0 p:40:8 p:44:0 p:44:b p:50:0 p:50:b t25 p:44:0 p:49:b p:50:0 p:55:b t25 p:27:8 p:33:8 p:38:0 p:3d:0 p:40:0 p:49:0 p:50:b p:55:0 p:5c:b t50 p:27:0 p:33:0 p:36:8 p:3b:8 t25 p:4e:b p:50:0 p:5a:b p:5c:0 t25 p:36:0 p:36:8 p:3b:0 p:3b:8 p:47:b p:4e:0 p:53:b p:5a:0 t25 p:47:0 p:4e:b p:53:0 p:5a:b t25 p:25:8 p:31:8 p:36:0 p:3b:0 p:4e:0 p:4e:b p:5a:0 p:5a:b t50 p:25:0 p:31:0 p:3a:8 p:40:8 t25 p:4c:b p:4e:0 p:58:b p:5a:0 t25 p:3a:0 p:3a:8 p:40:0 p:40:8 p:46:b p:4c:0 p:52:b p:58:0 t25 p:46:0 p:4c:b p:52:0 p:58:b t25 p:23:8 p:2f:8 p:3a:0 p:40:0 p:4b:b p:4c:0 p:57:b p:58:0 t51 p:23:0 p:2f:0 p:36:a p:3b:a p:3f:a t27 p:49:b p:4b:0 p:55:b p:57:0 t28 p:2c:a p:35:a p:36:0 p:3b:0 p:3b:a p:3f:0 p:41:a p:47:c p:49:0 p:53:c p:55:0 t30 p:47:0 p:53:0 p:53:c p:5f:c t32 p:2a:a p:2c:0 p:35:0 p:3b:0 p:41:0 p:4e:c p:53:0 p:5a:c p:5f:0 t69 p:36:a p:3a:a p:3d:a t38 p:2c:a t38 p:2a:8 p:31:8 p:36:0 p:3a:0 p:3a:8 p:3d:0 p:4e:0 p:50:b p:5a:0 t38 p:28:8 p:2a:0 p:2c:0 t38 p:27:8 p:28:0 p:31:0 p:33:8 p:3a:0 p:4e:a p:50:0 t50 p:27:0 p:33:0 p:36:8 p:3a:8 t25 p:4c:a t25 p:23:8 p:2f:8 p:36:0 p:36:8 p:3a:0 p:3b:8 p:4b:b t25 p:4b:0 p:4c:0 p:4e:0 p:57:b t25 p:23:0 p:2a:8 p:2f:0 p:36:0 p:3b:0 p:55:b p:57:0 t50 p:2a:0 p:36:8 p:3a:8 p:3d:8 t25 p:52:b t25 p:36:0 p:36:8 p:3a:0 p:3a:8 p:3d:0 p:4e:a t25 p:4c:a p:4e:0 p:52:0 p:55:0 t25 p:23:8 p:2f:8 p:36:0 p:3a:0 p:4b:a p:4c:0 t50 p:23:0 p:2f:0 p:33:8 p:36:8 t25 p:49:a t25 p:20:8 p:2c:8 p:33:0 p:33:8 p:36:0 p:38:8 p:47:b t25 p:47:0 p:49:0 p:4b:0 p:53:b t25 p:20:0 p:27:8 p:2c:0 p:33:0 p:38:0 p:52:b p:53:0 t50 p:27:0 p:33:8 p:36:8 p:3a:8 t25 p:4e:b t25 p:33:0 p:33:8 p:36:0 p:36:8 p:3a:0 p:4b:a t25 p:49:a p:4b:0 p:4e:0 p:52:0 t25 p:20:8 p:2c:8 p:33:0 p:36:0 p:47:a p:49:0 t25 p:4b:a t25 p:20:0 p:2c:0 p:2f:a p:33:a p:53:a t25 p:46:a p:4b:0 p:52:a p:53:0 t25 p:1c:b p:28:b p:2f:0 p:2f:b p:33:0 p:34:b p:44:b p:46:0 p:47:0 p:52:0 t25 p:50:a t25 p:19:b p:1c:0 p:25:b p:28:0 p:2f:0 p:34:0 p:44:0 p:50:0 p:50:b t25 p:55:a t25 p:19:0 p:25:0 p:34:b p:38:b p:5c:a t25 p:4c:b p:55:0 p:58:a p:5c:0 t25 p:1c:a p:28:a p:34:0 p:34:a p:38:0 p:38:a p:3a:a p:49:a p:4c:0 p:50:0 p:58:0 t25 p:55:a t25 p:1b:a p:1c:0 p:27:a p:28:0 p:34:0 p:38:0 p:3a:0 p:47:a p:49:0 p:55:0 t25 p:53:a t26 p:1b:0 p:27:0 p:33:8 p:38:8 p:3b:8 p:57:a t27 p:53:a t28 p:27:8 p:33:0 p:33:8 p:37:8 p:38:0 p:3b:0 p:3d:8 p:46:a p:47:0 p:57:a t30 p:52:a p:53:0 p:57:0 t32 p:20:8 p:27:0 p:2c:8 p:33:0 p:37:0 p:3d:0 p:44:a p:46:0 p:52:0 t33 p:50:a t35 p:20:0 p:2c:0 p:33:8 p:38:8 p:3b:8 p:57:a t38 p:53:a t38 p:33:0 p:33:8 p:38:0 p:38:8 p:3b:0 p:44:0 p:52:a t38 p:50:0 p:50:a p:52:0 p:53:0 p:57:0 t38 p:27:8 p:33:0 p:33:8 p:38:0 p:4e:a p:50:0 t50 p:27:0 p:33:0 p:36:8 p:3a:8 t25 p:4c:a t25 p:23:8 p:2f:8 p:36:0 p:36:8 p:3a:0 p:3b:8 p:4b:b t25 p:4b:0 p:4c:0 p:4e:0 p:57:b t25 p:23:0 p:2a:8 p:2f:0 p:36:0 p:3b:0 p:55:b p:57:0 t50 p:2a:0 p:36:8 p:3a:8 p:3d:8 t25 p:52:b t25 p:36:0 p:36:8 p:3a:0 p:3a:8 p:3d:0 p:4e:a t25 p:4c:a p:4e:0 p:52:0 p:55:0 t25 p:23:8 p:2f:8 p:36:0 p:3a:0 p:4b:a p:4c:0 t50 p:23:0 p:2f:0 p:33:8 p:36:8 t25 p:49:a t25 p:20:8 p:2c:8 p:33:0 p:33:8 p:36:0 p:38:8 p:47:b t25 p:47:0 p:49:0 p:4b:0 p:53:b t25 p:20:0 p:27:8 p:2c:0 p:33:0 p:38:0 p:52:b p:53:0 t50",reverie:"<start> p:3a:5 t72 p:3c:5 t46 p:3e:7 t41 p:43:9 t67 p:3e:8 t38 p:3c:7 t42 p:3a:7 t20 p:3a:0 p:3c:0 p:3e:0 p:3e:0 t50 p:3c:7 t43 p:3e:7 t48 p:43:8 t81 p:3e:6 t47 p:3c:8 t61 p:3a:6 t13 p:3a:0 p:3c:0 p:3e:0 p:43:0 t65 p:4f:a t3 p:1f:5 t58 p:3c:7 t36 p:3e:7 t34 p:43:8 t35 p:4a:9 t32 p:3e:7 t39 p:3c:8 t50 p:3a:7 t19 p:1f:0 p:3a:0 p:3c:0 p:3e:0 p:43:0 t62 p:3c:7 t37 p:4c:9 t3 p:3e:6 t30 p:4d:a t6 p:43:8 t33 p:4f:b t28 p:3e:8 t31 p:4c:b t3 p:3c:8 p:43:6 t30 p:4a:b t3 p:3a:8 t39 p:3a:0 p:3c:0 p:3e:0 p:43:0 p:4a:0 p:4c:0 p:4f:0 t1 p:4c:0 t2 p:4c:b t27 p:3c:8 t22 p:48:a t24 p:3e:7 t22 p:4c:a t27 p:43:7 t32 p:4a:9 t33 p:3e:7 t35 p:3c:7 t47 p:3a:7 t19 p:3a:0 p:3c:0 p:3e:0 p:43:0 p:48:0 p:4a:0 p:4c:0 t2 p:3e:0 t3 p:4d:0 t9 p:4f:0 t51 p:3c:6 t38 p:3e:6 t36 p:43:7 t33 p:46:a t28 p:3e:8 t30 p:43:7 p:4a:b t6 p:3c:7 t25 p:3a:9 t28 p:4c:b t6 p:39:9 t1 p:3e:5 t7 p:3a:0 p:3c:0 p:3e:0 p:43:0 p:46:0 p:4a:0 p:4c:0 t16 p:3e:0 t4 p:3a:a t29 p:4d:c t2 p:3c:9 t29 p:41:8 t1 p:4c:0 t37 p:48:a t47 p:3c:7 t39 p:3a:7 t34 p:39:7 t34 p:37:7 t11 p:39:0 p:39:0 p:3a:0 p:3a:0 p:3c:0 p:41:0 t4 p:3c:0 p:4d:0 t15 p:39:8 t31 p:3a:9 t9 p:39:0 t22 p:40:8 t45 p:43:a t38 p:3a:8 t39 p:39:8 t38 p:37:8 t62 p:45:a t5 p:29:7 p:41:4 t15 p:37:0 p:39:0 p:3a:0 p:40:0 p:43:0 p:48:0 t33 p:30:6 t31 p:39:7 t31 p:41:7 t29 p:3e:8 t29 p:39:8 t33 p:3c:8 t1 p:30:5 t31 p:41:7 t32 p:29:8 t34 p:30:7 t34 p:39:7 t32 p:41:7 t35 p:3e:7 t36 p:39:8 t43 p:3c:6 t42 p:41:6 t93 p:51:b t7 p:26:7 t11 p:29:0 p:30:0 p:39:0 p:3c:0 p:3e:0 p:41:0 t27 p:2d:8 t33 p:32:8 t27 p:35:8 t31 p:4c:a t2 p:39:9 t27 p:3c:9 t30 p:40:9 t31 p:3c:9 t31 p:39:9 t34 p:35:8 t39 p:48:a t2 p:39:7 t29 p:4c:a t2 p:3c:9 t36 p:4a:a t2 p:2b:a t8 p:26:0 p:35:0 p:39:0 p:3c:0 p:45:0 p:4c:0 t16 p:32:0 t2 p:32:a t29 p:37:9 t3 p:46:a t27 p:3a:a t1 p:43:a t48 p:2d:0 p:32:0 p:35:0 p:37:0 p:39:0 p:3a:0 p:40:0 p:43:0 p:46:0 p:4a:0 p:4c:0 p:51:0 t1 p:48:0 t1 p:2b:0 t1 p:3c:0"};(0,c.useEffect)(()=>{C()},[R]);let z=(0,c.useRef)(0),G=(0,c.useRef)(0);return(0,c.useEffect)(()=>((function p(){z.current=requestAnimationFrame(()=>{var e;let a=r.h4().seconds,c=_-a-.5,i=Math.max(0,Math.min(1,c/5));if(i<1){let p=Math.max(0,a-G.current);a-=p*(1-i),f(t=>t+p*(1-i)),r.h4().seconds=a}null===(e=N.current)||void 0===e||e.postMessage({message:"updateTime",minNotesTotalTime:a-1,maxNotesTotalTime:a+8+1}),t(a),G.current=a,p()})})(),()=>cancelAnimationFrame(z.current)),[_]),(0,a.jsxs)("main",{className:"flex h-screen w-screen flex-col items-center justify-between p-4 space-y-4 bg-gradient-to-r from-[#000007] via-[#100020] to-[#000007]",children:[(0,a.jsx)("div",{className:"flex flex-row",children:(0,a.jsxs)("select",{className:"rounded-lg border border-gray-300 bg-gray-900 px-2 py-1",onChange:p=>O(p.target.value),value:R,children:[(0,a.jsx)("option",{value:"none",children:"Unconditional"}),(0,a.jsx)("option",{value:"nocturne_9_2",children:"Nocturne Op.9 No.2"}),(0,a.jsx)("option",{value:"revolutionary",children:"Revolutionary Etude"}),(0,a.jsx)("option",{value:"waltzes_39_3",children:"Waltzes Op.39 No.3"}),(0,a.jsx)("option",{value:"reverie",children:"R\xeaverie"})]})}),(0,a.jsxs)("div",{className:"flex items-center justify-center gap-4",children:[(0,a.jsx)("button",{disabled:o,onClick:T,className:"rounded-lg border border-gray-300 px-3 py-2 transition-colors hover:border-gray-300 hover:bg-gray-100 hover:dark:border-neutral-700 hover:dark:bg-neutral-800/30",children:"started"===r.h4().state?(0,a.jsx)(n.Wh,{}):(0,a.jsx)(n.gmG,{})}),(0,a.jsx)("button",{onClick:C,className:"rounded-lg border border-gray-300 px-3 py-2 transition-colors hover:border-gray-300 hover:bg-gray-100 hover:dark:border-neutral-700 hover:dark:bg-neutral-800/30",children:(0,a.jsx)(n.WLu,{})})]}),(0,a.jsx)(b,{masterGain:1}),(0,a.jsxs)("div",{className:"w-full lg:w-3/4 h-full max-w-full max-h-full relative",children:[(0,a.jsx)(v,{playbackVisibleLength:8,playbackStartTime:l,queueOffset:.1,playbackPos:p,notesTotalTime:_,promptEndTime:I,notes:E,synth:m}),(0,a.jsx)("div",{className:"absolute flex w-full h-full items-center justify-center bg-black bg-opacity-50 ".concat(w||o?"opacity-100":"opacity-0"," transition-opacity"),children:(0,a.jsxs)("div",{className:"absolute p-4 rounded-lg shadow-lg border border-gray-300 text-center items-center justify-center",children:[(0,a.jsx)("i",{children:S}),(0,a.jsx)(s.Z,{color:"white",height:30,width:9,radius:4,margin:2})]})})]})]})}}},function(p){p.O(0,[774,132,347,667,488,744],function(){return p(p.s=4120)}),_N_E=p.O()}]);